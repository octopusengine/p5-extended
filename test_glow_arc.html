<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<title>Test Gradient</title>
<script src="js/p5.min.js"></script>
<script src="js/box_design.js"></script>
</head>
<body>

<script>
let arc1, grad1;

function setup() {
  createCanvas(800, 480);
  t0 = new Template();

  t1 = new Template();
  t1.basCol = color(0,100,0);
  t1.gridStep = 10;
  t1.x0 = t0.btnX0;
  t1.w = 150;
  t1.strokeW = 3;

  matrix = new DesignMatrix(t0.xC-100, t0.yC-100, 200, 200, 50, 50); 
  matrix.treshold = 250;

  arc1 = new DesignArc(120, 130, 0, 80, 100, 50, 2);
  arc2 = new DesignArc(120, 130, 180, 80, 100, 50, 2);

  //grad1 = new GradientElement(20, t0.h-30, t0.w, 10, color(200, 50, 50), color(50, 50, 200), 0); // 0: left â†’ right
  grad1 = new GradientElement(0, 430, t0.w, 10, color(0, 50, 0), color(0, 200, 0), 2);

}

function draw() {
  background(20);

  t0.draw();
  t0.drawGrid();
  t1.drawGridPoints();

  grad1.show(); 

  let ctx = drawingContext;
  ctx.save();

  ctx.beginPath();
  ctx.arc(t0.xC, t0.yC, 100, 0, TWO_PI);
  ctx.clip();

  ctx.fillStyle = "black";
  ctx.fill();  

  if (frameCount % 10 === 0) { matrix.updateColors();}
  matrix.draw();
  ctx.restore();

  // base
  //arc1.drawArc(200, 200);

  // glow
  arc1.drawArcGlow(t0.xC, t0.yC, color(100, 255, 100, 250), 15);
  arc2.drawArcGlow(t0.xC, t0.yC, color(100, 255, 100, 250), 15);

  //grad1.show();
}
</script>

</body>
</html>
